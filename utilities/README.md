# dms-scripts/utilities #

## Introduction ##

The Python scripts which have been provided in this directory will be used to convert the datasets from a RDF/XML Representation to a GraphML file.

The two datasets are:
* [Berlin SPARQL Benchmark Dataset](http://wifo5-03.informatik.uni-mannheim.de/bizer/berlinsparqlbenchmark/spec/Dataset/)
* [Waterloo SPARQL Diversity Test Suite](http://dsg.uwaterloo.ca/watdiv/#dataset)

### BSBM ###
The BSBM dataset is generated using the data generator which is provided as a part of [BSBM tools](https://sourceforge.net/projects/bsbmtools/) .
Installing the BSBM tools package is a  really straigforward process. You only have to extract it and start using the shellscript with a few arguments. 
I ran this command to generate the dataset.

```bash
./generate -s xml -fc -pc 100 -fn /path/to/xml/file
```

The script converts the dataset generated in an XML to the GraphML format using the [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/) module in Python.
Beautiful Soup can be easily installed using pip. The package name for pip is *BeautifulSoup4*.

The [logical schema](http://wifo5-03.informatik.uni-mannheim.de/bizer/berlinsparqlbenchmark/spec/Dataset/) (Section 2.2) for the BSBM dataset has been used heavily to write the parser script.

The Python script works in the following way:
* All the classes which are mentioned in the [logical schema](http://wifo5-03.informatik.uni-mannheim.de/bizer/berlinsparqlbenchmark/spec/Dataset/) are nodes in the graph. There is a *type* attribute in each node which identifies what kind of a node it is (like a Product, ProductType etc) 
* A subject-predicate-object triple is an attribure if the object is not an URI. An attribute with the attribute name set to the Predicate and the with value equal to the object is added to the graph node.
* If the object of a subject-predicate-object triple is an URI, we create an Edge from the subject to the object with the label of the edge set as the predicate.
* All the data is written to a file in the GraphML syntax.

To run the python script
```bash
python3 bsbm.py /path/to/xml/file /path/to/graphml/file
```

The first argument is the path to the XML file which was generated by the BSBM tools package. The second argument is the path where the graphml file should be generated.

A log file by the name of *BSBM.log* will also be generated, in the same directory where the python script exists.

